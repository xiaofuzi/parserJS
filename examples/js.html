<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
    /*
	* js-keyword,js-punctuaction,js-comment,js-number,js-identifier,js-string
    */
    
    .pre-code {
        background: black;
    }
    
    .pre-code .js-keyword {
        color: yellow;
    }
    
    .pre-code .js-punctuation {
        color: white;
    }
    
    .pre-code .js-comment {
        color: green;
    }
    
    .pre-code .js-number {
        color: yellow;
    }
    
    .pre-code .js-identifier {
        color: brown;
    }
    
    .pre-code .js-string {
        color: blue;
    }
    </style>
</head>

<body>
	<div class="pre-code">
		<span class="js-comment">/**<br />*&nbsp;some&nbsp;helper&nbsp;functions<br />*/</span><br /><span class="js-keyword">var</span>&nbsp;<span class="js-identifier">utils</span>&nbsp;<span class="js-punctuation">=</span>&nbsp;<span class="js-identifier">module</span><span class="js-punctuation">.</span><span class="js-identifier">exports</span>&nbsp;<span class="js-punctuation">=</span>&nbsp;<span class="js-punctuation">{</span><span class="js-punctuation">}</span><span class="js-punctuation">;</span><br /><br /><br /><br /><span class="js-comment">/*<br />*&nbsp;tabSpace<br />*/</span><br /><br /><span class="js-identifier">utils</span><span class="js-punctuation">.</span><span class="js-identifier">tabSpace</span>&nbsp;<span class="js-punctuation">=</span>&nbsp;<span class="js-keyword">function</span><span class="js-punctuation">(</span><span class="js-identifier">num</span><span class="js-punctuation">)</span><span class="js-punctuation">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="js-keyword">var</span>&nbsp;<span class="js-identifier">tabSpace</span>&nbsp;<span class="js-punctuation">=</span>&nbsp;<span class="js-string">"</span><span class="js-string">"</span><span class="js-punctuation">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="js-identifier">tabSpaceNum</span>&nbsp;<span class="js-punctuation">=</span>&nbsp;<span class="js-identifier">num</span>&nbsp;<span class="js-punctuation">|</span><span class="js-punctuation">|</span>&nbsp;<span class="js-number">4</span><span class="js-punctuation">;</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="js-keyword">for</span>&nbsp;<span class="js-punctuation">(</span><span class="js-keyword">var</span>&nbsp;<span class="js-identifier">i</span>&nbsp;<span class="js-punctuation">=</span>&nbsp;<span class="js-number">0</span><span class="js-punctuation">;</span>&nbsp;<span class="js-identifier">i</span>&nbsp;<span class="js-punctuation">&lt</span>&nbsp;<span class="js-identifier">tabSpaceNum</span><span class="js-punctuation">;</span>&nbsp;<span class="js-punctuation">+</span><span class="js-punctuation">+</span><span class="js-identifier">i</span><span class="js-punctuation">)</span><span class="js-punctuation">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="js-identifier">tabSpace</span>&nbsp;<span class="js-punctuation">+</span><span class="js-punctuation">=</span>&nbsp;<span class="js-string">"</span><span class="js-string">&nbsp;</span><span class="js-string">"</span>&nbsp;<span class="js-punctuation">;</span>&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="js-punctuation">}</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="js-keyword">return</span>&nbsp;<span class="js-identifier">tabSpace</span>&nbsp;<span class="js-punctuation">;</span><br /><span class="js-punctuation">}</span><br /><br /><span class="js-comment">/*<br />*&nbsp;whiteSpace&nbsp;processing<br />*/</span><br /><span class="js-identifier">utils</span><span class="js-punctuation">.</span><span class="js-identifier">whiteSpaceHarden</span>&nbsp;<span class="js-punctuation">=</span>&nbsp;<span class="js-keyword">function</span><span class="js-punctuation">(</span><span class="js-identifier">code</span><span class="js-punctuation">)</span><span class="js-punctuation">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="js-keyword">var</span>&nbsp;<span class="js-identifier">str</span>&nbsp;<span class="js-punctuation">=</span>&nbsp;<span class="js-string">'</span><span class="js-string">'</span><span class="js-punctuation">;</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="js-identifier">str</span>&nbsp;<span class="js-punctuation">=</span>&nbsp;<span class="js-identifier">code</span><span class="js-punctuation">.</span><span class="js-identifier">replace</span><span class="js-punctuation">(</span><span class="js-regexp">/ /g</span><span class="js-punctuation">,</span>&nbsp;<span class="js-string">"</span><span class="js-string">&nbsp;</span><span class="js-string">"</span><span class="js-punctuation">)</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="js-punctuation">.</span><span class="js-identifier">replace</span><span class="js-punctuation">(</span><span class="js-regexp">/\n/g</span><span class="js-punctuation">,</span>&nbsp;<span class="js-string">"</span><span class="js-string"><br /></span><span class="js-string">"</span><span class="js-punctuation">)</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="js-punctuation">.</span><span class="js-identifier">replace</span><span class="js-punctuation">(</span><span class="js-regexp">/\t/g</span><span class="js-punctuation">,</span>&nbsp;<span class="js-identifier">utils</span><span class="js-punctuation">.</span><span class="js-identifier">tabSpace</span><span class="js-punctuation">(</span><span class="js-punctuation">)</span><span class="js-punctuation">)</span><span class="js-punctuation">;</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="js-keyword">return</span>&nbsp;<span class="js-identifier">str</span><span class="js-punctuation">;</span><br /><span class="js-punctuation">}</span><br /><br /><br /><span class="js-comment">/*<br />*&nbsp;escape&nbsp;html<br />*/</span><br /><span class="js-identifier">utils</span><span class="js-punctuation">.</span><span class="js-identifier">escapeHtml</span>&nbsp;<span class="js-punctuation">=</span>&nbsp;<span class="js-keyword">function</span><span class="js-punctuation">(</span><span class="js-identifier">code</span><span class="js-punctuation">)</span><span class="js-punctuation">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="js-keyword">var</span>&nbsp;<span class="js-identifier">s</span>&nbsp;<span class="js-punctuation">=</span>&nbsp;<span class="js-identifier">code</span><span class="js-punctuation">;</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="js-identifier">s</span>&nbsp;<span class="js-punctuation">=</span>&nbsp;<span class="js-identifier">s</span><span class="js-punctuation">.</span><span class="js-identifier">replace</span><span class="js-punctuation">(</span><span class="js-regexp">/&/g</span><span class="js-punctuation">,</span>&nbsp;<span class="js-string">"</span><span class="js-string">&amp</span><span class="js-string">"</span><span class="js-punctuation">)</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="js-punctuation">.</span><span class="js-identifier">replace</span><span class="js-punctuation">(</span><span class="js-regexp">/</g</span><span class="js-punctuation">,</span>&nbsp;<span class="js-string">"</span><span class="js-string">&lt</span><span class="js-string">"</span><span class="js-punctuation">)</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="js-punctuation">.</span><span class="js-identifier">replace</span><span class="js-punctuation">(</span><span class="js-regexp">/>/g</span><span class="js-punctuation">,</span>&nbsp;<span class="js-string">"</span><span class="js-string">&gt</span><span class="js-string">"</span><span class="js-punctuation">)</span><span class="js-punctuation">;</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="js-keyword">return</span>&nbsp;<span class="js-identifier">s</span><span class="js-punctuation">;</span><br /><span class="js-punctuation">}</span><br /><br /><span class="js-comment">/*<br />*&nbsp;escape&nbsp;and&nbsp;harden&nbsp;code<br />*/</span><br /><span class="js-identifier">utils</span><span class="js-punctuation">.</span><span class="js-identifier">escapeAndHarden</span>&nbsp;<span class="js-punctuation">=</span>&nbsp;<span class="js-keyword">function</span><span class="js-punctuation">(</span><span class="js-identifier">code</span><span class="js-punctuation">)</span><span class="js-punctuation">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="js-identifier">code</span>&nbsp;<span class="js-punctuation">=</span>&nbsp;<span class="js-identifier">utils</span><span class="js-punctuation">.</span><span class="js-identifier">escapeHtml</span><span class="js-punctuation">(</span><span class="js-identifier">code</span><span class="js-punctuation">)</span><span class="js-punctuation">;</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="js-keyword">return</span>&nbsp;<span class="js-identifier">utils</span><span class="js-punctuation">.</span><span class="js-identifier">whiteSpaceHarden</span><span class="js-punctuation">(</span><span class="js-identifier">code</span><span class="js-punctuation">)</span><span class="js-punctuation">;</span><br /><span class="js-punctuation">}</span><br /><br />
	</div>
</body>

</html>
